# AI代码审核平台 - 任务计划详情

**文档版本**: v1.0  
**编制日期**: 2025年12月  
**适用对象**: 执行团队

---

## 目录

1. [WBS工作分解结构](#一wbs工作分解结构)
2. [第一阶段任务清单](#二第一阶段任务清单mvp)
3. [第二阶段任务清单](#三第二阶段任务清单功能完善)
4. [第三阶段任务清单](#四第三阶段任务清单规模推广)
5. [甘特图](#五甘特图)
6. [RACI责任矩阵](#六raci责任矩阵)
7. [风险登记册](#七风险登记册)
8. [沟通计划](#八沟通计划)

---


## 一、WBS工作分解结构

```
AI代码审核平台
│
├── 1. 第一阶段：MVP交付 (1-2月)
│   ├── 1.1 基础架构搭建
│   │   ├── 1.1.1 项目初始化
│   │   ├── 1.1.2 数据库设计
│   │   ├── 1.1.3 Docker环境配置
│   │   └── 1.1.4 CI/CD流水线
│   │
│   ├── 1.2 Webhook服务
│   │   ├── 1.2.1 GitLab Webhook接收
│   │   ├── 1.2.2 签名验证
│   │   ├── 1.2.3 事件解析
│   │   └── 1.2.4 队列系统集成
│   │
│   ├── 1.3 AI审核引擎
│   │   ├── 1.3.1 AI调度器（并发控制）
│   │   ├── 1.3.2 GitLab API集成
│   │   ├── 1.3.3 审核引擎核心
│   │   ├── 1.3.4 规则模板设计
│   │   └── 1.3.5 结果解析存储
│   │
│   ├── 1.4 Web管理后台
│   │   ├── 1.4.1 前端框架搭建
│   │   ├── 1.4.2 登录认证
│   │   ├── 1.4.3 服务管理页面
│   │   ├── 1.4.4 审核记录页面
│   │   └── 1.4.5 审核详情页面
│   │
│   └── 1.5 集成与上线
│       ├── 1.5.1 企业微信通知
│       ├── 1.5.2 GitLab评论发布
│       ├── 1.5.3 完整流程测试
│       ├── 1.5.4 部署与文档
│       └── 1.5.5 试点项目接入
│
├── 2. 第二阶段：功能完善 (3-4月)
│   ├── 2.1 规则管理模块
│   ├── 2.2 技术债务看板
│   ├── 2.3 基线管理
│   ├── 2.4 质量分析报表
│   ├── 2.5 权限体系
│   └── 2.6 误报管理
│
└── 3. 第三阶段：规模推广 (5-12月)
    ├── 3.1 IDE插件
    ├── 3.2 专家审核流程
    ├── 3.3 报表系统
    ├── 3.4 规则市场
    ├── 3.5 多AI共识
    └── 3.6 Git Hook集成
```

---


## 二、第一阶段任务清单（MVP）

### 2.1 Week 1: 基础架构搭建

| 任务ID | 任务名称 | 负责人 | 工时 | 开始日期 | 结束日期 | 前置依赖 | 交付物 | 验收标准 |
|--------|----------|--------|------|----------|----------|----------|--------|----------|
| T1.1.1 | NestJS项目初始化 | 后端A | 4h | D1 | D1 | - | 项目骨架代码 | 项目可启动，基础模块划分完成 |
| T1.1.2 | Prisma+PostgreSQL配置 | 后端A | 8h | D1 | D2 | T1.1.1 | 数据库Schema | 数据库可连接，表结构创建成功 |
| T1.1.3 | Docker Compose配置 | 后端B | 4h | D1 | D1 | - | docker-compose.yml | 一键启动开发环境 |
| T1.1.4 | Redis队列配置 | 后端B | 4h | D2 | D2 | T1.1.3 | BullMQ集成 | 队列可用，Bull Board可访问 |
| T1.2.1 | GitLab Webhook Controller | 后端A | 8h | D3 | D3 | T1.1.2 | Webhook接口 | 能接收GitLab事件 |
| T1.2.2 | Webhook签名验证 | 后端A | 4h | D4 | D4 | T1.2.1 | 验证逻辑 | 非法请求被拒绝 |
| T1.2.3 | 事件解析（Push+MR） | 后端B | 8h | D4 | D5 | T1.2.1 | 事件解析器 | 正确解析Push和MR事件 |
| T1.2.4 | 任务入队逻辑 | 后端B | 4h | D5 | D5 | T1.1.4, T1.2.3 | 队列生产者 | 事件触发后任务进入队列 |

**Week 1 交付标准**: GitLab推送代码 → 触发Webhook → 任务进队列 → 打印日志

---

### 2.2 Week 2: AI审核引擎

| 任务ID | 任务名称 | 负责人 | 工时 | 开始日期 | 结束日期 | 前置依赖 | 交付物 | 验收标准 |
|--------|----------|--------|------|----------|----------|----------|--------|----------|
| T1.3.1 | AI调度器（并发控制） | 后端A | 12h | D6 | D7 | T1.1.4 | AISchedulerService | 并发数可配置，限流生效 |
| T1.3.2 | OpenAI兼容API调用 | 后端A | 8h | D7 | D8 | T1.3.1 | AI客户端 | 成功调用本地AI模型 |
| T1.3.3 | GitLab API集成 | 后端B | 8h | D6 | D7 | T1.1.2 | GitLabService | 能获取代码变更diff |
| T1.3.4 | 审核引擎核心逻辑 | 后端A | 16h | D8 | D10 | T1.3.2, T1.3.3 | ReviewEngineService | 完整审核流程跑通 |
| T1.3.5 | 规则模板设计 | 后端B | 8h | D8 | D9 | - | 规则Prompt模板 | Java/Go/React各5条规则 |
| T1.3.6 | AI结果解析 | 后端B | 4h | D9 | D9 | T1.3.4 | 结果解析器 | JSON结果正确解析 |
| T1.3.7 | 违规记录存储 | 后端B | 4h | D10 | D10 | T1.3.6 | 数据存储逻辑 | 违规记录入库 |

**Week 2 交付标准**: 提交代码 → 自动审核 → 存储结果 → 能识别问题

---

### 2.3 Week 3: Web管理后台

| 任务ID | 任务名称 | 负责人 | 工时 | 开始日期 | 结束日期 | 前置依赖 | 交付物 | 验收标准 |
|--------|----------|--------|------|----------|----------|----------|--------|----------|
| T1.4.1 | React+Vite项目初始化 | 前端 | 4h | D11 | D11 | - | 前端项目骨架 | 项目可启动 |
| T1.4.2 | Ant Design集成 | 前端 | 4h | D11 | D11 | T1.4.1 | UI框架集成 | 组件库可用 |
| T1.4.3 | 路由配置 | 前端 | 4h | D12 | D12 | T1.4.1 | 路由结构 | 页面导航正常 |
| T1.4.4 | 登录页面（JWT） | 前端 | 8h | D12 | D13 | T1.4.3 | 登录功能 | 登录/登出正常 |
| T1.4.5 | 服务管理页面 | 前端 | 12h | D13 | D14 | T1.4.4 | 服务CRUD页面 | 能添加/编辑/删除服务 |
| T1.4.6 | 审核记录列表页 | 前端 | 8h | D14 | D15 | T1.4.4 | 记录列表页 | 能查看审核历史 |
| T1.4.7 | 审核详情页 | 前端 | 12h | D15 | D16 | T1.4.6 | 详情页面 | 能查看问题详情和代码 |

**Week 3 交付标准**: 在Web界面添加仓库 → 查看审核历史 → 查看问题详情

---

### 2.4 Week 4: 集成测试与上线

| 任务ID | 任务名称 | 负责人 | 工时 | 开始日期 | 结束日期 | 前置依赖 | 交付物 | 验收标准 |
|--------|----------|--------|------|----------|----------|----------|--------|----------|
| T1.5.1 | 企业微信通知实现 | 后端A | 8h | D17 | D17 | T1.3.4 | NotificationService | 审核完成后收到通知 |
| T1.5.2 | 多级通知配置 | 后端A | 8h | D17 | D18 | T1.5.1 | 配置查找逻辑 | 项目→人员→部门→默认 |
| T1.5.3 | GitLab评论发布 | 后端B | 8h | D18 | D18 | T1.3.4 | MR评论功能 | MR中显示审核结果 |
| T1.5.4 | 完整流程测试 | 测试 | 16h | D19 | D20 | 全部 | 测试报告 | 核心流程无阻塞bug |
| T1.5.5 | 压力测试 | 测试 | 8h | D20 | D20 | T1.5.4 | 性能报告 | 支持50并发 |
| T1.5.6 | Bug修复 | 后端A/B | 8h | D20 | D21 | T1.5.4 | 修复记录 | 严重bug清零 |
| T1.5.7 | Dockerfile编写 | 后端B | 4h | D21 | D21 | - | 部署脚本 | 一键部署 |
| T1.5.8 | 用户文档编写 | 产品 | 8h | D21 | D22 | - | 使用文档 | 接入指南完成 |
| T1.5.9 | 试点项目接入 | 全员 | 8h | D22 | D22 | 全部 | 3个项目接入 | 正常运行 |

**Week 4 交付标准**: 系统稳定运行，3个项目接入，无重大bug

---


## 三、第二阶段任务清单（功能完善）

### 3.1 Month 3: 规则管理与技术债务

| 任务ID | 任务名称 | 负责人 | 工时 | 周次 | 前置依赖 | 交付物 |
|--------|----------|--------|------|------|----------|--------|
| T2.1.1 | 规则数据模型设计 | 后端A | 8h | W5 | MVP完成 | 规则表结构 |
| T2.1.2 | 规则CRUD API | 后端A | 16h | W5-W6 | T2.1.1 | 规则管理接口 |
| T2.1.3 | 规则编辑器页面 | 前端 | 16h | W6 | T2.1.2 | 规则管理UI |
| T2.1.4 | 规则测试功能 | 后端B | 12h | W6-W7 | T2.1.2 | 规则测试接口 |
| T2.2.1 | 债务数据模型 | 后端B | 8h | W7 | MVP完成 | 债务表结构 |
| T2.2.2 | 债务统计API | 后端B | 12h | W7-W8 | T2.2.1 | 统计接口 |
| T2.2.3 | 债务看板页面 | 前端 | 16h | W8 | T2.2.2 | 可视化看板 |
| T2.2.4 | 趋势图表组件 | 前端 | 8h | W8 | T2.2.3 | 图表组件 |

### 3.2 Month 4: 质量分析与权限体系

| 任务ID | 任务名称 | 负责人 | 工时 | 周次 | 前置依赖 | 交付物 |
|--------|----------|--------|------|------|----------|--------|
| T2.3.1 | 基线数据模型 | 后端A | 8h | W9 | T2.2.1 | 基线表结构 |
| T2.3.2 | 基线管理API | 后端A | 12h | W9-W10 | T2.3.1 | 基线接口 |
| T2.3.3 | 基线管理页面 | 前端 | 12h | W10 | T2.3.2 | 基线UI |
| T2.4.1 | 质量快照数据模型 | 后端B | 8h | W9 | T2.2.1 | 快照表结构 |
| T2.4.2 | 多维度统计API | 后端B | 16h | W10-W11 | T2.4.1 | 统计接口 |
| T2.4.3 | 质量看板页面 | 前端 | 20h | W11-W12 | T2.4.2 | 质量看板 |
| T2.5.1 | RBAC权限模型 | 后端A | 12h | W11 | MVP完成 | 权限表结构 |
| T2.5.2 | 权限控制中间件 | 后端A | 8h | W11-W12 | T2.5.1 | 权限中间件 |
| T2.5.3 | 权限管理页面 | 前端 | 12h | W12 | T2.5.2 | 权限UI |
| T2.6.1 | 误报标记API | 后端B | 8h | W12 | MVP完成 | 误报接口 |
| T2.6.2 | 误报管理页面 | 前端 | 8h | W12 | T2.6.1 | 误报UI |

---


## 四、第三阶段任务清单（规模推广）

### 4.1 任务概览

| 模块 | 预计周期 | 主要任务 | 负责人 | 优先级 |
|------|----------|----------|--------|--------|
| IDE插件 | W13-W16 | VSCode插件开发、实时审核、问题标注 | 前端+后端A | P2 |
| 专家审核 | W17-W20 | 专家池配置、自动分配、审核工作流 | 后端B | P2 |
| 报表系统 | W21-W24 | 周报/月报模板、自动生成、邮件发送 | 后端A+前端 | P2 |
| 规则市场 | W25-W28 | 规则分享、评分、导入导出 | 后端B+前端 | P2 |
| 多AI共识 | W29-W32 | 多模型调用、结果合并、置信度计算 | 后端A | P2 |
| Git Hook | W33-W36 | 本地Hook工具、pre-commit集成 | 后端B | P2 |
| 高管报告 | W37-W40 | PPT模板、自动生成、数据可视化 | 前端+产品 | P2 |

### 4.2 IDE插件详细任务 (示例)

| 任务ID | 任务名称 | 工时 | 交付物 |
|--------|----------|------|--------|
| T3.1.1 | VSCode插件项目初始化 | 8h | 插件骨架 |
| T3.1.2 | 审核API客户端 | 12h | API封装 |
| T3.1.3 | 实时审核触发逻辑 | 16h | 保存时触发 |
| T3.1.4 | 问题诊断显示 | 12h | Diagnostics集成 |
| T3.1.5 | Quick Fix集成 | 16h | 一键修复 |
| T3.1.6 | 侧边栏面板 | 12h | 问题列表UI |
| T3.1.7 | 配置管理 | 8h | 设置页面 |
| T3.1.8 | 插件发布 | 4h | 发布到市场 |

---


## 五、甘特图

```
2025年1月                    2月                      3月                      4月
W1    W2    W3    W4    W5    W6    W7    W8    W9    W10   W11   W12
├─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┤

【第一阶段: MVP】
基础架构    ████
Webhook服务      ████
AI审核引擎            ████████
Web管理后台                  ████████
集成测试                              ████
试点接入                                   ██
                                          ↑
                                         M1: MVP上线

【第二阶段: 功能完善】
规则管理                                        ████████
技术债务                                              ████████
基线管理                                                    ████████
质量分析                                                          ████████
权限体系                                                                ████████
误报管理                                                                      ████
                                                                              ↑
                                                                             M4: 20项目接入

2025年5月                    6月        ...        12月
W13   W14   W15   W16   W17   W18        W40
├─────┼─────┼─────┼─────┼─────┼─────┼────┼─────┤

【第三阶段: 规模推广】
IDE插件     ████████████████
专家审核                    ████████████████
报表系统                                    ████████
规则市场                                            ████████
多AI共识                                                    ████████
Git Hook                                                            ████████
高管报告                                                                    ████████
                                                                                  ↑
                                                                                 M6: 全面覆盖
```

---


## 六、RACI责任矩阵

### 6.1 角色说明

- **R (Responsible)**: 执行者，负责完成任务
- **A (Accountable)**: 负责人，对结果负责，有决策权
- **C (Consulted)**: 咨询者，提供意见和建议
- **I (Informed)**: 知会者，需要了解进展

### 6.2 责任分配

| 任务/活动 | 产品经理 | 后端A | 后端B | 前端 | 测试 | 运维 | 管理层 |
|-----------|----------|-------|-------|------|------|------|--------|
| **需求定义** | A/R | C | C | C | I | I | I |
| **技术方案** | C | A/R | R | R | C | C | I |
| **数据库设计** | I | A/R | R | I | C | I | I |
| **后端开发** | I | A/R | R | I | C | I | I |
| **前端开发** | C | C | C | A/R | C | I | I |
| **AI集成** | I | A/R | R | I | C | I | I |
| **测试执行** | I | C | C | C | A/R | I | I |
| **部署上线** | I | C | C | I | C | A/R | I |
| **用户培训** | A/R | C | C | C | I | I | I |
| **推广运营** | A/R | I | I | I | I | I | C |
| **里程碑验收** | R | R | R | R | R | R | A |

---


## 七、风险登记册

| 风险ID | 风险描述 | 可能性 | 影响 | 风险等级 | 应对措施 | 责任人 | 状态 |
|--------|----------|--------|------|----------|----------|--------|------|
| R001 | AI模型准确率不达标 | 中 | 高 | 高 | 1.初期只报告高置信度问题 2.建立误报反馈机制 3.持续优化Prompt | 后端A | 监控中 |
| R002 | 审核速度过慢影响开发 | 中 | 中 | 中 | 1.队列优先级机制 2.增加AI并发 3.智能跳过非关键文件 | 后端B | 监控中 |
| R003 | 开发者抵触使用 | 中 | 高 | 高 | 1.从增量项目开始 2.强调帮助而非监控 3.展示效率数据 | 产品经理 | 监控中 |
| R004 | AI服务不稳定 | 低 | 高 | 中 | 1.完善监控告警 2.自动重试机制 3.优雅降级策略 | 运维 | 监控中 |
| R005 | 外部AI成本超预算 | 低 | 中 | 低 | 1.优先使用本地模型 2.优化Token使用 3.设置成本告警 | 后端A | 监控中 |
| R006 | 关键人员离职 | 低 | 高 | 中 | 1.知识文档化 2.代码Review确保多人熟悉 3.定期技术分享 | 管理层 | 监控中 |
| R007 | 试点项目配合度低 | 中 | 中 | 中 | 1.选择积极团队 2.管理层支持 3.快速响应反馈 | 产品经理 | 监控中 |
| R008 | 安全合规问题 | 低 | 高 | 中 | 1.代码不出内网 2.敏感信息脱敏 3.审计日志完善 | 后端A | 监控中 |

### 风险等级说明

- **高**: 可能性×影响 ≥ 6，需要立即制定应对计划
- **中**: 可能性×影响 = 3-5，需要持续监控
- **低**: 可能性×影响 ≤ 2，定期检查即可

---


## 八、沟通计划

### 8.1 例会安排

| 会议类型 | 频率 | 参与人 | 时长 | 内容 |
|----------|------|--------|------|------|
| 每日站会 | 每日 | 开发团队 | 15min | 昨日完成、今日计划、阻塞问题 |
| 周例会 | 每周一 | 全员 | 1h | 周进度回顾、下周计划、风险同步 |
| 需求评审 | 按需 | 产品+开发 | 1-2h | 需求澄清、技术可行性 |
| 技术评审 | 按需 | 开发团队 | 1-2h | 方案评审、代码Review |
| 里程碑汇报 | 每月 | 全员+管理层 | 1h | 里程碑达成、KPI数据、风险 |

### 8.2 沟通渠道

| 渠道 | 用途 | 响应时效 |
|------|------|----------|
| 企业微信群 | 日常沟通、快速问题 | 实时 |
| 邮件 | 正式通知、文档传递 | 24h内 |
| Jira/禅道 | 任务跟踪、Bug管理 | 工作日内 |
| 文档库 | 需求文档、技术文档 | - |
| 周报 | 进度汇报 | 每周五 |

### 8.3 汇报机制

| 汇报类型 | 频率 | 接收人 | 内容模板 |
|----------|------|--------|----------|
| 周报 | 每周五 | 管理层 | 本周完成、下周计划、风险问题、需要支持 |
| 月报 | 每月末 | 管理层 | 里程碑达成、KPI数据、资源使用、风险应对 |
| 专项汇报 | 按需 | 管理层 | 重大问题、决策事项 |

---

## 附录

### A. 任务状态定义

| 状态 | 说明 |
|------|------|
| 待开始 | 任务已创建，等待开始 |
| 进行中 | 任务正在执行 |
| 待验收 | 任务完成，等待验收 |
| 已完成 | 任务验收通过 |
| 阻塞 | 任务因依赖或问题暂停 |
| 取消 | 任务被取消 |

### B. 工时估算说明

- 1人天 = 8小时有效工作时间
- 估算包含开发、自测、文档时间
- 不包含会议、沟通、等待时间
- 建议预留20%缓冲时间

### C. 变更管理

任何任务变更需要：
1. 提交变更申请（说明原因、影响）
2. 评估影响（工期、资源、风险）
3. 审批（产品经理+技术负责人）
4. 更新计划文档
5. 通知相关方

---

**文档编制**: 研发效能团队  
**审核**: [待填写]  
**批准**: [待填写]

