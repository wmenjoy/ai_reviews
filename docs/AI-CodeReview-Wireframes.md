# AI代码审核平台 - 页面线框图

## 目录
1. [整体布局](#1-整体布局)
2. [用户个人质量中心](#2-用户个人质量中心)
3. [部门质量看板](#3-部门质量看板)
4. [公司全局看板](#4-公司全局看板)
5. [审核详情页](#5-审核详情页)
6. [服务管理页](#6-服务管理页)
7. [规则管理页](#7-规则管理页)
8. [规则效能分析](#8-规则效能分析)
9. [对比分析页](#9-对比分析页)
10. [技术债务看板](#10-技术债务看板)

---

## 1. 整体布局

### 1.1 主框架

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ Header (顶部导航栏)                                                          │
├────────┬────────────────────────────────────────────────────────────────────┤
│        │                                                                    │
│        │                                                                    │
│        │                                                                    │
│ Left   │                                                                    │
│ Side   │                    Main Content Area                              │
│ bar    │                    (主内容区)                                       │
│        │                                                                    │
│ (导航) │                                                                    │
│        │                                                                    │
│        │                                                                    │
│        │                                                                    │
└────────┴────────────────────────────────────────────────────────────────────┘
```

### 1.2 顶部导航栏 (Header)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ [Logo] AI代码审核平台           🔍[全局搜索]      🔔    👤 张三  [退出]      │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.3 左侧导航栏 (Sidebar)

```
┌────────┐
│ 菜单   │
├────────┤
│        │
│ 📊 仪表盘  │
│        │
│ 👤 我的中心 │
│  ├ 质量画像 │
│  ├ 我的项目 │
│  └ 我的问题 │
│        │
│ 📋 审核管理 │
│  ├ 审核记录 │
│  └ 服务配置 │
│        │
│ 📐 规则中心 │
│  ├ 规则管理 │
│  └ 规则分析 │
│        │
│ 👥 部门管理 │  (仅部门管理员)
│  ├ 部门看板 │
│  └ 成员分析 │
│        │
│ 🏢 全局管理 │  (仅组织管理员)
│  ├ 公司看板 │
│  ├ 部门对比 │
│  └ 目标追踪 │
│        │
│ 📊 数据分析 │
│  ├ 对比分析 │
│  └ 报表导出 │
│        │
│ ⚙️  系统配置 │  (仅管理员)
│  ├ AI模型   │
│  ├ 通知配置 │
│  └ 权限管理 │
│        │
└────────┘
```

---

## 2. 用户个人质量中心

### 2.1 整体布局

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ Header: 我的质量中心                          最后更新: 2025-01-15 10:23     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 质量概览卡片区 (Top Section)                                         │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌──────────────────────────┐  ┌──────────────────────────────────────┐   │
│ │                          │  │                                      │   │
│ │  质量趋势图              │  │  能力雷达图                          │   │
│ │  (左侧)                  │  │  (右侧)                              │   │
│ │                          │  │                                      │   │
│ └──────────────────────────┘  └──────────────────────────────────────┘   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 我最常犯的错误 (表格)                                                │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌──────────────────────────┐  ┌──────────────────────────────────────┐   │
│ │                          │  │                                      │   │
│ │  个性化建议              │  │  成长轨迹                            │   │
│ │                          │  │                                      │   │
│ └──────────────────────────┘  └──────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 详细设计

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 我的质量中心 - 张三                    [查看排行榜] [导出报告]              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│ │ 质量总分    │  │ 团队排名    │  │ 本月提交    │  │ 通过率      │        │
│ │             │  │             │  │             │  │             │        │
│ │   87/100    │  │   12/45     │  │   23次      │  │    96%      │        │
│ │             │  │             │  │             │  │             │        │
│ │ ████████░░  │  │ 超越73%     │  │ ↑ +5次     │  │ ✅ 优秀     │        │
│ │ ↑ 比上月+5  │  │ 🎉          │  │             │  │             │        │
│ └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘        │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────────────────────────┐  ┌────────────────────────────────┐  │
│ │ 30天质量趋势                      │  │ 能力雷达图                     │  │
│ │                                  │  │                                │  │
│ │ 100│                    ●        │  │       安全性(90)               │  │
│ │  90│            ●   ●      ●     │  │          ╱│╲                   │  │
│ │  80│    ●   ●               ●   │  │ 代码质量(85) │ 性能(80)        │  │
│ │  70│●                           │  │          ╲│╱                   │  │
│ │    └───────────────────────     │  │       规范性(88)               │  │
│ │     1   7   14  21  28  (天)    │  │                                │  │
│ │                                  │  │ [安全] [质量] [性能] [规范]   │  │
│ │ 📈 持续上升中，keep going!       │  │                                │  │
│ └──────────────────────────────────┘  └────────────────────────────────┘  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 我最常犯的错误 Top 5              [查看全部]                                │
│                                                                             │
│ ┌───┬────────────────────┬──────┬──────────┬────────────────────────┐      │
│ │No │ 问题类型           │ 次数 │ 占比     │ 建议                   │      │
│ ├───┼────────────────────┼──────┼──────────┼────────────────────────┤      │
│ │ 1 │ 方法过长           │  8   │ ████████ │ 遵循单一职责，拆分方法 │      │
│ │ 2 │ 缺少异常处理       │  5   │ █████    │ 添加try-catch          │      │
│ │ 3 │ 日志缺失           │  4   │ ████     │ 关键逻辑添加日志       │      │
│ │ 4 │ 变量命名不规范     │  3   │ ███      │ 使用有意义的变量名     │      │
│ │ 5 │ 魔法数字           │  2   │ ██       │ 定义常量替代硬编码     │      │
│ └───┴────────────────────┴──────┴──────────┴────────────────────────┘      │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌────────────────────────────────┐  ┌──────────────────────────────────┐  │
│ │ 💡 个性化建议                  │  │ 🏆 成长轨迹                      │  │
│ │                                │  │                                  │  │
│ │ 1. 你在"安全性"方面表现优秀！ │  │ 2025-01  🏆 首次得分90+         │  │
│ │    继续保持 👍                 │  │                                  │  │
│ │                                │  │ 2024-12  📈 月平均分提升10分    │  │
│ │ 2. "性能"相对较弱，建议学习：  │  │                                  │  │
│ │    - Java性能优化最佳实践     │  │ 2024-11  🎯 连续30天零CRITICAL  │  │
│ │    - 常见性能陷阱             │  │                                  │  │
│ │    [推荐课程: Java性能调优]   │  │ 2024-10  ⭐ 成为团队前20%       │  │
│ │                                │  │                                  │  │
│ │ 3. 本月改进最明显的是"代码质   │  │ [查看完整历史]                  │  │
│ │    量"(+12分) keep going 💪   │  │                                  │  │
│ └────────────────────────────────┘  └──────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.3 质量排行榜弹窗

```
                    ┌─────────────────────────────────────┐
                    │ 质量排行榜 - 本月            [×关闭] │
                    ├─────────────────────────────────────┤
                    │                                     │
                    │ [本周] [本月] [本季度]              │
                    │                                     │
                    │ 🏆 综合质量榜                       │
                    │ ┌─────────────────────────────────┐ │
                    │ │ 1. 🥇 李四   92分  ↑2          │ │
                    │ │ 2. 🥈 王五   91分  ↓1          │ │
                    │ │ 3. 🥉 张三   90分  →           │ │
                    │ │ ...                             │ │
                    │ │ 12. 😊 我    87分  ↑5 (进步!) │ │
                    │ └─────────────────────────────────┘ │
                    │                                     │
                    │ 📈 进步最快榜                       │
                    │ ┌─────────────────────────────────┐ │
                    │ │ 1. 赵六  +15分 (72→87)         │ │
                    │ │ 2. 我    +12分 (75→87) 🎉     │ │
                    │ │ 3. 孙七  +10分 (80→90)         │ │
                    │ └─────────────────────────────────┘ │
                    │                                     │
                    │ 💻 语言质量冠军                     │
                    │ ┌─────────────────────────────────┐ │
                    │ │ Java:   李四  95分              │ │
                    │ │ Go:     王五  93分              │ │
                    │ │ Python: 我    89分 🏅          │ │
                    │ └─────────────────────────────────┘ │
                    │                                     │
                    │ [ ] 匿名显示（仅显示我的排名）      │
                    │                                     │
                    └─────────────────────────────────────┘
```

---

## 3. 部门质量看板

### 3.1 整体布局

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 后端研发部 - 质量看板                  [导出报告] [一对一建议]              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 部门概览卡片区                                                       │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌──────────────────────────┐  ┌──────────────────────────────────────┐   │
│ │  质量趋势 (6个月)        │  │  成员质量分布 (直方图)               │   │
│ └──────────────────────────┘  └──────────────────────────────────────┘   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 项目质量排行 (列表)                                                  │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌──────────────────────────┐  ┌──────────────────────────────────────┐   │
│ │  问题分布 (柱状图)       │  │  🚨 需要关注的项目                   │   │
│ └──────────────────────────┘  └──────────────────────────────────────┘   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 团队成员详情 (可展开列表)                                            │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 详细设计

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 后端研发部 - 质量看板             [本周▼] [本月●] [本季度]   [导出Excel]   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐         │
│ │质量总分  │ │公司排名  │ │成员数    │ │项目数    │ │本月审核  │         │
│ │          │ │          │ │          │ │          │ │          │         │
│ │ 85/100   │ │  2/8     │ │   45     │ │   12     │ │   234    │         │
│ │████████░ │ │领先大部分│ │          │ │          │ │          │         │
│ │↑ +3分    │ │🎯        │ │          │ │          │ │          │         │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘         │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌────────────────────────────────┐  ┌──────────────────────────────────┐  │
│ │ 质量趋势 (最近6个月)            │  │ 成员质量分布                     │  │
│ │                                │  │                                  │  │
│ │  90│                  ●        │  │   人数                           │  │
│ │  85│          ●   ●      ●     │  │    12│         ███              │  │
│ │  80│      ●                    │  │    10│     ███ ███ ███          │  │
│ │  75│  ●                        │  │     8│ ███ ███ ███ ███ ██       │  │
│ │    └──────────────────         │  │       └──────────────────        │  │
│ │     1月 2月 3月 4月 5月 6月     │  │       <60 60 70 80 90 >90       │  │
│ │                                │  │                                  │  │
│ │ 📊 分析: 质量持续上升，5月达到  │  │ 优秀(>85): 28人 (62%)            │  │
│ │    峰值                        │  │ 良好(70-85): 15人 (33%)          │  │
│ │                                │  │ 需改进(<70): 2人 (4%) ⚠️         │  │
│ └────────────────────────────────┘  └──────────────────────────────────┘  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 项目质量排行          [排序: 得分▼] [筛选: 全部▼]          [查看完整列表] │
│                                                                             │
│ ┌─────┬───────────────────┬──────┬─────────┬──────────┬──────────────┐    │
│ │ No  │ 项目名            │ 得分 │ 趋势    │ 健康度   │ 操作         │    │
│ ├─────┼───────────────────┼──────┼─────────┼──────────┼──────────────┤    │
│ │  1  │ user-service      │  92  │ ↑ +3   │ ✅ 健康  │ [查看] [配置] │    │
│ │  2  │ order-service     │  89  │ → 0    │ ✅ 健康  │ [查看] [配置] │    │
│ │  3  │ payment-service   │  87  │ ↑ +5   │ ✅ 健康  │ [查看] [配置] │    │
│ │ ... │                   │      │         │          │              │    │
│ │ 10  │ legacy-system     │  65  │ ↓ -3   │ ⚠️ 需关注│ [查看] [重构] │    │
│ │ 11  │ old-api           │  58  │ ↓ -8   │ 🚨 高风险│ [查看] [告警] │    │
│ └─────┴───────────────────┴──────┴─────────┴──────────┴──────────────┘    │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌────────────────────────────────┐  ┌──────────────────────────────────┐  │
│ │ 问题分布 (本月)                 │  │ 🚨 需要关注的项目                │  │
│ │                                │  │                                  │  │
│ │ 安全问题: 15 (↓-5) ██████      │  │ 1. old-api (58分)                │  │
│ │ 质量问题: 67 (↑+12)████████████│  │    问题: 技术债务严重            │  │
│ │ 性能问题: 23 (→0)  ████████    │  │    建议: 安排重构计划            │  │
│ │ 风格问题: 145      ████████████│  │    负责人: 张三                  │  │
│ │                                │  │    [制定计划] [查看详情]         │  │
│ │ 💡 质量问题上升，建议组织培训  │  │                                  │  │
│ │                                │  │ 2. legacy-system (65分)          │  │
│ └────────────────────────────────┘  │    问题: 质量波动大              │  │
│                                     │    建议: 加强Code Review         │  │
│                                     │    负责人: 李四                  │  │
│                                     │    [制定计划] [查看详情]         │  │
│                                     └──────────────────────────────────┘  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 团队成员质量分析       [搜索成员] [排序: 综合得分▼] [筛选: 全部▼]          │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ▼ 张三 - 综合得分: 92分 (团队第3名)                    [查看详情]   │   │
│ │   本月提交: 15次  通过率: 100%  强项: 安全性(95) 性能(93)         │   │
│ │   趋势: ↗️ 持续上升   标签: 🌟优秀实践者                           │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ ▼ 李四 - 综合得分: 68分 (↓-8)                          [制定计划]   │   │
│ │   本月提交: 8次  通过率: 75%  弱项: 安全性(55) ⚠️                  │   │
│ │   趋势: ↘️ 需要关注   标签: 🚨需要帮助                             │   │
│ │                                                                     │   │
│ │   💡 建议行动:                                                      │   │
│ │   - 安排安全编码培训                                                │   │
│ │   - 一对一Code Review                                               │   │
│ │   - 分配安全专家导师                                                │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ [展开全部成员] [导出团队报告.xlsx]                                         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 公司全局看板

### 4.1 详细设计

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 全局质量看板 - 某某科技                          [生成高管报告] [设置目标] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 🏢 公司代码质量总览                                                         │
│                                                                             │
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐         │
│ │质量总分  │ │总项目数  │ │代码量    │ │开发者    │ │年度改善  │         │
│ │          │ │          │ │          │ │          │ │          │         │
│ │ 83/100   │ │   156    │ │ 500万行  │ │   380    │ │  +8分    │         │
│ │████████░ │ │          │ │          │ │          │ │          │         │
│ │↑ +2 YoY  │ │          │ │          │ │          │ │ 目标80%  │         │
│ └──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘         │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 📊 质量趋势 (最近12个月)                                                    │
│                                                                             │
│  90│                                              ●                         │
│  85│                                  ●       ●                             │
│  80│              ●       ●       ●                                         │
│  75│      ●   ●                                                             │
│    └────────────────────────────────────────────────────────               │
│     1月  2月  3月  4月  5月  6月  7月  8月  9月 10月 11月 12月              │
│                                                                             │
│  📈 年度改善: +8分  目标: 85分 (达成率: 80%)  🎯                            │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 🏆 部门质量对比               [雷达图▼] [柱状图] [表格]     [查看详细对比] │
│                                                                             │
│ ┌─────────────────────┬──────┬─────────┬──────────────────────┐           │
│ │ 部门                │ 得分 │ 趋势    │ 质量条                │           │
│ ├─────────────────────┼──────┼─────────┼──────────────────────┤           │
│ │ 后端研发部          │  85  │ ↑ +3   │ ████████████████████ │           │
│ │ 算法部              │  83  │ ↑ +2   │ ███████████████████  │           │
│ │ 前端研发部          │  82  │ → 0    │ ██████████████████   │           │
│ │ 数据部              │  80  │ → 0    │ ████████████████     │           │
│ │ 测试部              │  78  │ ↓ -2   │ ██████████████       │           │
│ │ 客户端部            │  76  │ ↓ -3   │ ████████████         │           │
│ │ 运维部              │  72  │ ↓ -5   │ ██████████      ⚠️   │           │
│ │ 外包团队            │  58  │ → 0    │ ████        🚨       │           │
│ └─────────────────────┴──────┴─────────┴──────────────────────┘           │
│                                                                             │
│  💡 发现: 外包团队质量明显偏低，建议加强管理或调整合作模式                 │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 💻 语言质量分布                [Go ●] [Java] [TS] [Python] [C++] [C]       │
│                                                                             │
│ ┌─────────────────────┬──────┬────────┬──────────────────────┐            │
│ │ 语言                │ 得分 │ 项目数 │ 质量条                │            │
│ ├─────────────────────┼──────┼────────┼──────────────────────┤            │
│ │ Go                  │  88  │  35个  │ ████████████████████ │            │
│ │ Java                │  82  │  45个  │ ██████████████████   │            │
│ │ TypeScript          │  80  │  28个  │ █████████████████    │            │
│ │ Python              │  78  │  22个  │ ████████████████     │            │
│ │ C++                 │  65  │  15个  │ ██████████      ⚠️   │            │
│ │ C                   │  58  │  11个  │ ████████    🚨       │            │
│ └─────────────────────┴──────┴────────┴──────────────────────┘            │
│                                                                             │
│  💡 建议: C/C++项目质量偏低，建议引入专项培训和静态分析工具                │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 🚨 高风险项目 (Top 10)                                    [查看完整列表]   │
│                                                                             │
│ ┌──────┬──────────────────┬─────────┬──────┬────────┬───────────────┐     │
│ │ Rank │ 项目名           │ 部门    │ 得分 │ 风险   │ 行动          │     │
│ ├──────┼──────────────────┼─────────┼──────┼────────┼───────────────┤     │
│ │  1   │ legacy-billing   │ 财务部  │  45  │ 🔴极高 │ [整改计划]    │     │
│ │  2   │ old-crm          │ 销售部  │  52  │ 🔴极高 │ [整改计划]    │     │
│ │  3   │ payment-v1       │ 后端部  │  58  │ 🟡高   │ [重构中...]   │     │
│ │  4   │ mobile-app-old   │ 客户端  │  62  │ 🟡高   │ [计划重构]    │     │
│ │ ...  │                  │         │      │        │               │     │
│ └──────┴──────────────────┴─────────┴──────┴────────┴───────────────┘     │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌────────────────────────────────┐  ┌──────────────────────────────────┐  │
│ │ 💰 技术债务总览                 │  │ 📈 AI审核价值分析                │  │
│ │                                │  │                                  │  │
│ │ 总债务: 12,456个问题            │  │ 本月审核次数: 2,340次            │  │
│ │ ├─ 严重: 234 (↓-45) ✅         │  │ 发现问题: 8,923个                │  │
│ │ ├─ 错误: 1,890 (↑+120) ⚠️      │  │ 阻止严重问题: 234个              │  │
│ │ └─ 警告: 10,332                │  │                                  │  │
│ │                                │  │ 💰 避免损失: 约500万             │  │
│ │ 债务趋势: ↘️ 总体下降 (-15% YoY)│  │ 节省时间: 约1,200小时            │  │
│ │                                │  │ 节省成本: 36万/月                │  │
│ │ 预计修复成本: 约2,400人天      │  │ AI成本: 约2万/月                 │  │
│ │                                │  │                                  │  │
│ │ [查看详情] [生成修复计划]      │  │ ROI: 1800% 🎉                    │  │
│ └────────────────────────────────┘  │                                  │  │
│                                     │ [查看详细分析]                    │  │
│                                     └──────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 审核详情页

### 5.1 整体布局

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ Header: 审核详情 #abc123                                   [分享] [导出]    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────────────────────────────────────────────────────────────────┐   │
│ │ 审核概览卡片                                                         │   │
│ └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌───────────────────────────┬─────────────────────────────────────────┐   │
│ │                           │                                         │   │
│ │                           │                                         │   │
│ │                           │                                         │   │
│ │     左侧: 代码Diff        │        右侧: 问题列表                   │   │
│ │   (Monaco Editor)         │        (可折叠分组)                     │   │
│ │                           │                                         │   │
│ │                           │                                         │   │
│ │                           │                                         │   │
│ └───────────────────────────┴─────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 详细设计

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ user-service @ abc123def                 [重新审核] [标记误报] [导出PDF]    │
│ feature/payment-refactor  by 张三  2025-01-15 10:23                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐  │
│ │ 总得分  │ │ 安全性  │ │ 质量    │ │ 性能    │ │ 耗时    │ │ 模型    │  │
│ │  82/100 │ │   95    │ │   80    │ │   85    │ │ 2分30秒 │ │ Qwen2.5 │  │
│ │ ⚠️      │ │ ✅      │ │ ⚠️      │ │ ✅      │ │         │ │         │  │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘  │
│                                                                             │
│ 问题统计: 严重 1  错误 3  警告 5  总计: 9个                                │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────────────────────┬────────────────────────────────────────┐  │
│ │ 代码变更 (Diff View)          │ 问题列表                               │  │
│ │                              │                                        │  │
│ │ [文件列表▼]                  │ [全部▼] [严重] [错误] [警告]          │  │
│ │                              │                                        │  │
│ │ ┌──────────────────────────┐ │ ┌────────────────────────────────────┐ │  │
│ │ │ ▼ UserService.java (修改)│ │ │ ▼ 🚨 严重问题 (1个)                │ │  │
│ │ │ ▶ OrderService.java (新增││ │ │                                    │ │  │
│ │ │ ▶ PaymentUtil.java (修改)│ │ │ ┌────────────────────────────────┐ │ │  │
│ │ └──────────────────────────┘ │ │ │ ❌ SQL注入风险                  │ │ │  │
│ │                              │ │ │    UserService.java:45          │ │ │  │
│ │ UserService.java             │ │ │                                 │ │ │  │
│ │ ┌──────────────────────────┐ │ │ │ 🔍 问题描述:                    │ │ │  │
│ │ │  43   public User find(  │ │ │ │    用户输入未过滤直接拼接到SQL  │ │ │  │
│ │ │  44       String name) { │ │ │ │                                 │ │ │  │
│ │ │⚠️45+      String sql =   │ │ │ │ 💡 修复建议:                    │ │ │  │
│ │ │           "SELECT * FROM │ │ │ │    使用PreparedStatement        │ │ │  │
│ │ │           users WHERE    │ │ │ │                                 │ │ │  │
│ │ │           name='" +      │ │ │ │ ```java                         │ │ │  │
│ │ │           name + "'";    │ │ │ │ String sql = "SELECT * FROM    │ │ │  │
│ │ │  46       return query(  │ │ │ │   users WHERE name = ?";       │ │ │  │
│ │ │           sql);          │ │ │ │ PreparedStatement ps =         │ │ │  │
│ │ │  47   }                  │ │ │ │   conn.prepareStatement(sql);  │ │ │  │
│ │ │                          │ │ │ │ ps.setString(1, name);         │ │ │  │
│ │ │ [点击查看AI建议]         │ │ │ │ ```                             │ │ │  │
│ │ └──────────────────────────┘ │ │ │                                 │ │ │  │
│ │                              │ │ │ [查看代码] [标记误报] [已修复]  │ │ │  │
│ │ [显示完整文件]               │ │ └────────────────────────────────┘ │ │  │
│ │                              │ │                                    │ │  │
│ │                              │ └────────────────────────────────────┘ │  │
│ │                              │                                        │  │
│ │                              │ ┌────────────────────────────────────┐ │  │
│ │                              │ │ ▶ ❌ 错误 (3个)                    │ │  │
│ │                              │ └────────────────────────────────────┘ │  │
│ │                              │                                        │  │
│ │                              │ ┌────────────────────────────────────┐ │  │
│ │                              │ │ ▶ ⚠️  警告 (5个)                   │ │  │
│ │                              │ └────────────────────────────────────┘ │  │
│ │                              │                                        │  │
│ └──────────────────────────────┴────────────────────────────────────────┘  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ AI审核意见:                                                                 │
│ ┌───────────────────────────────────────────────────────────────────────┐ │
│ │ 本次代码变更主要涉及用户查询功能的重构。发现1个严重的安全问题需要    │ │
│ │ 立即修复，以及3个代码质量问题建议改进。整体架构合理，但需要加强     │ │
│ │ 安全防护和错误处理...                                                 │ │
│ └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ [查看完整AI对话记录]                                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. 服务管理页

### 6.1 服务列表

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 服务管理                                            [+ 添加服务]             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 搜索: [_______________] 🔍   平台: [全部▼] [GitLab] [GitHub]              │
│                                                                             │
│ ┌───┬──────────────┬────────────────────────┬────────┬────────┬─────────┐ │
│ │No │ 服务名       │ Git仓库                │ 平台   │ 状态   │ 操作    │ │
│ ├───┼──────────────┼────────────────────────┼────────┼────────┼─────────┤ │
│ │ 1 │user-service  │gitlab.../backend/user  │ GitLab │ ✅ 运行│ [编辑]  │ │
│ │   │              │                        │        │        │ [配置]  │ │
│ │   │              │ Webhook: ✅ 已配置     │        │        │ [查看]  │ │
│ │   │              │ 最近审核: 2分钟前      │        │        │         │ │
│ ├───┼──────────────┼────────────────────────┼────────┼────────┼─────────┤ │
│ │ 2 │order-service │gitlab.../backend/order │ GitLab │ ✅ 运行│ [编辑]  │ │
│ │   │              │ Webhook: ✅ 已配置     │        │        │ [配置]  │ │
│ │   │              │ 最近审核: 1小时前      │        │        │ [查看]  │ │
│ ├───┼──────────────┼────────────────────────┼────────┼────────┼─────────┤ │
│ │ 3 │frontend-app  │github.../web-app       │ GitHub │ ⚠️ 警告│ [编辑]  │ │
│ │   │              │ Webhook: ❌ 未配置     │        │        │ [配置]  │ │
│ │   │              │ 最近审核: 从未         │        │        │ [删除]  │ │
│ └───┴──────────────┴────────────────────────┴────────┴────────┴─────────┘ │
│                                                                             │
│ 显示 1-3 / 共12条                          [<上一页] 1 2 3 [下一页>]       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 6.2 添加服务对话框

```
                  ┌───────────────────────────────────────────┐
                  │ 添加Git仓库                      [×关闭] │
                  ├───────────────────────────────────────────┤
                  │                                           │
                  │ Git平台: ◉ GitLab  ○ GitHub              │
                  │                                           │
                  │ 服务名称:                                 │
                  │ [user-service__________________]          │
                  │                                           │
                  │ GitLab仓库地址:                           │
                  │ [https://gitlab.company.com/...___]       │
                  │                                           │
                  │ 项目ID:                                   │
                  │ [123__]  (在GitLab项目设置中查看)        │
                  │                                           │
                  │ Access Token:                             │
                  │ [glpat-xxxxxxxxxxxxx____________]         │
                  │ 需要权限: api, read_repository            │
                  │                                           │
                  │ ───────────────────────────────           │
                  │ 审核设置:                                 │
                  │                                           │
                  │ ☑ Push时审核                              │
                  │ ☑ Merge Request时审核                     │
                  │                                           │
                  │ 审核分支: [main,release/*_________]       │
                  │ (支持通配符，逗号分隔)                    │
                  │                                           │
                  │ ───────────────────────────────           │
                  │                                           │
                  │    [测试连接]    [取消]    [创建服务]    │
                  │                                           │
                  └───────────────────────────────────────────┘

成功后显示:
                  ┌───────────────────────────────────────────┐
                  │ ✅ 服务创建成功！                         │
                  ├───────────────────────────────────────────┤
                  │                                           │
                  │ 服务名: user-service                      │
                  │ Webhook已自动配置:                        │
                  │                                           │
                  │ URL:                                      │
                  │ https://code-review.com/api/webhook/...   │
                  │                                           │
                  │ Secret: ***已设置***                      │
                  │                                           │
                  │ 如需手动配置，请参考文档。                │
                  │                                           │
                  │             [查看服务] [关闭]              │
                  │                                           │
                  └───────────────────────────────────────────┘
```

---

## 7. 规则管理页

### 7.1 规则列表

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 规则管理                                   [+ 新建规则] [导入] [导出]       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌────────────────┬─────────────────────────────────────────────────────┐   │
│ │ 规则分类 (树)  │ 规则列表                                            │   │
│ │                │                                                     │   │
│ │ ▼ 全部 (156)   │ 搜索: [___________] 🔍  状态: [全部▼] [启用] [禁用]│   │
│ │                │                                                     │   │
│ │ ▼ 安全 (45)    │ ┌─────────────────────────────────────────────────┐│   │
│ │  ├ SQL注入 (8) ││ ✅ SQL注入检测                     [编辑] [测试] ││   │
│ │  ├ XSS (6)     ││    适用: Java, Python                           ││   │
│ │  └ 密钥泄漏(5) ││    严重程度: CRITICAL                           ││   │
│ │                ││    触发: 234次/月  误报率: 2%  价值: 98.5分     ││   │
│ │ ▼ 质量 (67)    │└─────────────────────────────────────────────────┘│   │
│ │  ├ 代码复杂度  ││                                                     │   │
│ │  ├ 重复代码    ││ ┌─────────────────────────────────────────────────┐│   │
│ │  └ 命名规范    │││ ✅ 空指针风险检测                 [编辑] [测试] ││   │
│ │                │││    适用: Java, Kotlin                          ││   │
│ │ ▼ 性能 (28)    │││    严重程度: ERROR                             ││   │
│ │  ├ 循环优化    │││    触发: 189次/月  误报率: 5%  价值: 95.2分    ││   │
│ │  └ 内存使用    │└─────────────────────────────────────────────────┘│   │
│ │                ││                                                     │   │
│ │ ▼ 风格 (16)    ││ ┌─────────────────────────────────────────────────┐│   │
│ │                │││ ⚠️  变量命名检查                  [编辑] [禁用] ││   │
│ │ ▶ 自定义 (23)  │││    适用: 全部语言                              ││   │
│ │                │││    严重程度: WARNING                           ││   │
│ │                │││    触发: 567次/月  误报率: 45%  需要优化 ⚠️    ││   │
│ │                │└─────────────────────────────────────────────────┘│   │
│ │                ││                                                     │   │
│ │                ││ [加载更多...]                                      │   │
│ │                │└─────────────────────────────────────────────────────┘   │
│ └────────────────┴─────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 7.2 规则编辑器

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 编辑规则 - SQL注入检测                           [保存] [取消] [删除规则]   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─ 基本信息 ───────────────────────────────────────────────────────────┐   │
│ │                                                                       │   │
│ │ 规则名称: [SQL注入检测_____________________________]                  │   │
│ │                                                                       │   │
│ │ 描述:                                                                 │   │
│ │ ┌───────────────────────────────────────────────────────────────┐   │   │
│ │ │ 检测代码中是否存在SQL注入风险，包括字符串拼接、动态SQL等     │   │   │
│ │ └───────────────────────────────────────────────────────────────┘   │   │
│ │                                                                       │   │
│ │ 类别: [安全 ▼]      严重程度: [CRITICAL ▼]                           │   │
│ │                                                                       │   │
│ │ 适用语言: ☑ Java  ☑ Python  ☐ Go  ☐ JavaScript                      │   │
│ │                                                                       │   │
│ │ 状态: ◉ 启用  ○ 禁用                                                 │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌─ 检测方式 ───────────────────────────────────────────────────────────┐   │
│ │                                                                       │   │
│ │ ◉ AI智能检测                                                          │   │
│ │ ○ 正则匹配                                                            │   │
│ │ ○ AI + 正则 (先正则筛选，再AI确认)                                   │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌─ Prompt模板 (AI如何检测此问题) ──────────────────────────────────────┐   │
│ │                                                                       │   │
│ │ ┌───────────────────────────────────────────────────────────────┐   │   │
│ │ │ 请检查代码中是否存在SQL注入风险。                              │   │   │
│ │ │                                                                │   │   │
│ │ │ 重点关注:                                                      │   │   │
│ │ │ 1. 字符串拼接构建SQL语句                                       │   │   │
│ │ │ 2. 使用String.format等格式化方法                               │   │   │
│ │ │ 3. 动态表名/列名                                               │   │   │
│ │ │                                                                │   │   │
│ │ │ 如果发现风险，输出:                                            │   │   │
│ │ │ - 具体位置(文件:行号)                                          │   │   │
│ │ │ - 风险描述                                                     │   │   │
│ │ │ - 修复建议(使用PreparedStatement)                             │   │   │
│ │ └───────────────────────────────────────────────────────────────┘   │   │
│ │                                                                       │   │
│ │ [使用模板▼] [插入变量▼]                                              │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌─ 正则匹配模式 (可选) ────────────────────────────────────────────────┐   │
│ │                                                                       │   │
│ │ [String.*\+.*SELECT|UPDATE|DELETE|INSERT___________________]          │   │
│ │                                                                       │   │
│ │ 用途: 先用正则快速筛选可疑代码，再用AI深度分析                        │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│ ┌─ 测试规则 ───────────────────────────────────────────────────────────┐   │
│ │                                                                       │   │
│ │ 粘贴测试代码:                                                         │   │
│ │ ┌───────────────────────────────────────────────────────────────┐   │   │
│ │ │ String sql = "SELECT * FROM users WHERE name = '" + name + "'"│   │   │
│ │ └───────────────────────────────────────────────────────────────┘   │   │
│ │                                                                       │   │
│ │               [运行测试]                                              │   │
│ │                                                                       │   │
│ │ 测试结果:                                                             │   │
│ │ ┌───────────────────────────────────────────────────────────────┐   │   │
│ │ │ ✅ 成功检测到问题!                                             │   │   │
│ │ │                                                                │   │   │
│ │ │ 问题: SQL注入风险                                              │   │   │
│ │ │ 位置: 第1行                                                    │   │   │
│ │ │ 建议: 使用PreparedStatement参数化查询                         │   │   │
│ │ └───────────────────────────────────────────────────────────────┘   │   │
│ │                                                                       │   │
│ └───────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│                                            [保存规则] [取消] [删除规则]     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 8. 规则效能分析

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 规则效能分析                        [时间范围: 本月▼]  [导出分析报告]      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 规则总数: 156条   启用: 142条   本月触发: 8,923次                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 🏆 最有价值规则 Top 10                                   [查看完整列表]    │
│                                                                             │
│ ┌──────┬──────────────────┬────────┬─────────┬─────────┬──────────────┐   │
│ │ Rank │ 规则名           │ 触发次 │ 误报率  │ 修复率  │ 价值分       │   │
│ ├──────┼──────────────────┼────────┼─────────┼─────────┼──────────────┤   │
│ │  1   │ SQL注入检测      │  234   │  2%     │  94%    │ 98.5 [详情] │   │
│ │  2   │ 空指针风险       │  189   │  5%     │  91%    │ 95.2 [详情] │   │
│ │  3   │ 资源未关闭       │  156   │  3%     │  96%    │ 94.8 [详情] │   │
│ │  4   │ 并发安全         │  123   │  8%     │  88%    │ 91.3 [详情] │   │
│ │  5   │ XSS漏洞检测      │   89   │  4%     │  93%    │ 89.7 [详情] │   │
│ │ ...  │                  │        │         │         │              │   │
│ └──────┴──────────────────┴────────┴─────────┴─────────┴──────────────┘   │
│                                                                             │
│ 💡 这些规则发现了高价值问题，建议保留并推广到其他项目                      │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ⚠️  需要优化的规则                                       [批量禁用]        │
│                                                                             │
│ ┌──────┬──────────────────┬────────┬─────────┬──────────────────────┐     │
│ │ Rank │ 规则名           │ 触发次 │ 误报率  │ 建议                 │     │
│ ├──────┼──────────────────┼────────┼─────────┼──────────────────────┤     │
│ │  1   │ 变量命名检查     │  567   │  45%    │ 调整阈值 [优化]      │     │
│ │  2   │ 注释完整性       │  234   │  38%    │ 优化Prompt [优化]    │     │
│ │  3   │ 方法长度         │  189   │  32%    │ 调整规则 [优化]      │     │
│ └──────┴──────────────────┴────────┴─────────┴──────────────────────┘     │
│                                                                             │
│ 💡 这些规则误报率高，影响开发者体验，建议优化或禁用                        │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────────────────────┐  ┌────────────────────────────────────┐  │
│ │ 📊 规则使用热力图             │  │ 📈 规则触发趋势 (最近30天)         │  │
│ │                              │  │                                    │  │
│ │ 分类         触发次数        │  │ 2500│                     ●        │  │
│ │ 安全问题  ████████ 2,345     │  │ 2000│             ●   ●      ●     │  │
│ │ 质量问题  ████████████ 3,678 │  │ 1500│     ●   ●               ●   │  │
│ │ 性能问题  ████ 1,234         │  │ 1000│ ●                            │  │
│ │ 风格问题  ██ 666             │  │     └────────────────────────     │  │
│ │                              │  │      1   7   14  21  28  (天)     │  │
│ │ [按语言] [按部门]            │  │                                    │  │
│ └──────────────────────────────┘  │ 趋势: ↗️ 触发次数上升              │  │
│                                   └────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 8.1 规则详细分析弹窗

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 规则详细分析 - SQL注入检测                                         [×关闭] │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐    │
│ │ 触发次数  │ │ 误报次数  │ │ 修复次数  │ │ 误报率    │ │ 修复率    │    │
│ │   234     │ │     5     │ │   221     │ │   2.1%    │ │  94.4%    │    │
│ └───────────┘ └───────────┘ └───────────┘ └───────────┘ └───────────┘    │
│                                                                             │
│ 未修复: 8次 (已加入技术债务)                                               │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 发现项目分布:                                                               │
│                                                                             │
│ payment-service    ████████████████████ 89次                               │
│ order-service      ████████████ 56次                                       │
│ user-service       ████████ 34次                                           │
│ legacy-api         ██████ 28次                                             │
│ ...                                                                         │
│                                                                             │
│ [查看所有项目]                                                              │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 典型问题示例:                                                               │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐ │
│ │ ❌ 问题代码:                                                           │ │
│ │ ```java                                                               │ │
│ │ String sql = "SELECT * FROM users WHERE id=" + userId;                │ │
│ │ Statement stmt = conn.createStatement();                              │ │
│ │ ResultSet rs = stmt.executeQuery(sql);                                │ │
│ │ ```                                                                   │ │
│ │                                                                       │ │
│ │ ✅ 修复后代码:                                                         │ │
│ │ ```java                                                               │ │
│ │ String sql = "SELECT * FROM users WHERE id = ?";                      │ │
│ │ PreparedStatement ps = conn.prepareStatement(sql);                    │ │
│ │ ps.setInt(1, userId);                                                 │ │
│ │ ResultSet rs = ps.executeQuery();                                     │ │
│ │ ```                                                                   │ │
│ └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 💰 价值评估:                                                                │
│                                                                             │
│ - 阻止了234次潜在的SQL注入漏洞                                             │
│ - 假设10%的漏洞被利用，每次造成平均损失50万                                │
│ - 估算避免损失: 约1,170万元                                                │
│ - 规则维护成本: 约0.5人天/月                                               │
│                                                                             │
│ ROI: ⭐⭐⭐⭐⭐ 极高价值                                                    │
│                                                                             │
│                                              [导出报告] [优化规则] [关闭]  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 9. 对比分析页

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 对比分析                                               [保存对比] [导出]    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌─ 选择对比维度 ─────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │ 对比类型: ◉ 部门对比  ○ 项目对比  ○ 时间对比  ○ 语言对比              │ │
│ │                                                                         │ │
│ │ 选择部门:                                                               │ │
│ │ ☑ 后端研发部    ☑ 前端研发部    ☑ 算法部                              │ │
│ │ ☐ 数据部        ☐ 测试部        ☐ 客户端部                            │ │
│ │                                                                         │ │
│ │ 时间范围: [本月▼]                               [开始对比]             │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 对比结果                         [雷达图●] [柱状图] [表格]                 │
│                                                                             │
│ ┌──────────────────────────────┐  ┌────────────────────────────────────┐  │
│ │ 雷达图                        │  │ 详细数据对比                       │  │
│ │                              │  │                                    │  │
│ │       综合质量(85)           │  │ ┌────────┬────────┬────────┬─────┐│  │
│ │          ╱│╲                 │  │ │ 指标   │ 后端部 │ 前端部 │算法部││  │
│ │         ╱ │ ╲                │  │ ├────────┼────────┼────────┼─────┤│  │
│ │        ╱  │  ╲               │  │ │综合质量│  85    │  82    │ 83  ││  │
│ │ 安全(90) ─┼─ 性能(80)        │  │ │安全性  │  90    │  78    │ 88  ││  │
│ │        ╲  │  ╱               │  │ │代码质量│  80    │  85    │ 82  ││  │
│ │         ╲ │ ╱                │  │ │性能    │  80    │  82    │ 85  ││  │
│ │          ╲│╱                 │  │ │规范性  │  88    │  90    │ 80  ││  │
│ │      代码质量(80)            │  │ └────────┴────────┴────────┴─────┘│  │
│ │                              │  │                                    │  │
│ │ ─ 后端部  ─ 前端部  ─ 算法部 │  │ 差异分析:                          │  │
│ │                              │  │ • 后端部在安全性上领先             │  │
│ └──────────────────────────────┘  │ • 前端部在规范性上表现最好         │  │
│                                   │ • 算法部在性能方面领先             │  │
│                                   └────────────────────────────────────┘  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 趋势对比 (最近6个月)                                                        │
│                                                                             │
│  90│                          ● ─ 后端部                                    │
│  85│              ●   ● ● ●    ─ 前端部                                    │
│  80│      ●   ●               ─ 算法部                                    │
│  75│  ●                                                                     │
│    └──────────────────────                                                 │
│     1月  2月  3月  4月  5月  6月                                            │
│                                                                             │
│  分析: 后端部持续上升，前端部趋于稳定，算法部波动较大                       │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 💡 洞察和建议:                                                              │
│                                                                             │
│ 1. 后端部在安全性方面表现优秀，建议组织内部分享会                           │
│ 2. 前端部的规范性最好，可以将其编码规范推广到其他部门                       │
│ 3. 算法部质量波动较大，建议加强Code Review流程                             │
│                                                                             │
│                                       [导出对比报告.pdf] [生成PPT]          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 10. 技术债务看板

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 技术债务看板 - user-service                    [生成修复计划] [导出报告]   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐    │
│ │ 债务总分  │ │ 趋势      │ │ 严重问题  │ │ 错误      │ │ 警告      │    │
│ │   234     │ │ ↓ -8.5%   │ │    12     │ │    45     │ │   177     │    │
│ │ 中等      │ │ 改善中    │ │           │ │           │ │           │    │
│ └───────────┘ └───────────┘ └───────────┘ └───────────┘ └───────────┘    │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ ┌──────────────────────────────┐  ┌────────────────────────────────────┐  │
│ │ 债务趋势 (最近6个月)          │  │ 债务分布                           │  │
│ │                              │  │                                    │  │
│ │ 300│              ●          │  │ 按类别:                            │  │
│ │ 250│          ●       ●      │  │ 安全: 15  ████                     │  │
│ │ 200│      ●               ●●│  │ 质量: 67  ████████████             │  │
│ │     └────────────────────    │  │ 性能: 23  ██████                   │  │
│ │      1月 2月 3月 4月 5月 6月  │  │ 风格: 129 ████████████████████     │  │
│ │                              │  │                                    │  │
│ │ 📉 持续下降中                │  │ 按文件:                            │  │
│ │                              │  │ UserService.java    45个           │  │
│ └──────────────────────────────┘  │ OrderService.java   23个           │  │
│                                   │ PaymentUtil.java    18个           │  │
│                                   │ [查看全部]                          │  │
│                                   └────────────────────────────────────┘  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 债务热力图 (文件维度)                                                       │
│                                                                             │
│ src/                                                                        │
│ ├─ main/                                                                    │
│ │  ├─ service/                                                              │
│ │  │  ├─ UserService.java     🔴🔴🔴🔴🔴 45个问题                          │
│ │  │  ├─ OrderService.java    🔴🔴🔴 23个问题                              │
│ │  │  └─ ProductService.java  🟢 2个问题                                   │
│ │  ├─ util/                                                                 │
│ │  │  ├─ PaymentUtil.java     🔴🔴🔴 18个问题                              │
│ │  │  └─ DateUtil.java        🟡 8个问题                                   │
│ │  └─ controller/                                                           │
│ │     ├─ UserController.java  🟡🟡 12个问题                                │
│ │     └─ OrderController.java 🟢 3个问题                                   │
│                                                                             │
│ 🔴 高债务 (>20)  🟡 中债务 (10-20)  🟢 低债务 (<10)                        │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 🎯 自动生成的优化计划:                                                      │
│                                                                             │
│ ┌─ 第一阶段 (2周) ──────────────────────────────────────────────────────┐ │
│ │ 目标: 修复所有CRITICAL问题                                             │ │
│ │                                                                        │ │
│ │ 任务列表:                                                              │ │
│ │ 1. UserService.java 的3个SQL注入问题      预计: 4小时                 │ │
│ │ 2. PaymentUtil.java 的2个资源泄漏问题     预计: 2小时                 │ │
│ │ 3. ...                                                                 │ │
│ │                                                                        │ │
│ │ 预计工作量: 40人时                                                     │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─ 第二阶段 (1个月) ────────────────────────────────────────────────────┐ │
│ │ 目标: 修复高频修改文件的ERROR问题                                      │ │
│ │                                                                        │ │
│ │ 重点文件:                                                              │ │
│ │ - UserService.java (修改频率高，问题多)                               │ │
│ │ - OrderService.java                                                    │ │
│ │                                                                        │ │
│ │ 预计工作量: 80人时                                                     │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌─ 第三阶段 (持续) ─────────────────────────────────────────────────────┐ │
│ │ 目标: 每周修复10个WARNING                                              │ │
│ │                                                                        │ │
│ │ 策略: 在常规开发中逐步优化                                             │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│                           [开始执行计划] [调整计划] [分配任务]              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 11. AI模型配置页

```
┌─────────────────────────────────────────────────────────────────────────────┐
│ AI模型配置                                              [+ 添加模型]         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│ 负载均衡策略: [优先级优先 ▼]  □ 启用多AI共识模式 (成本较高)               │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐ │
│ │ 主力模型 (Qwen2.5-32B)                    [编辑] [测试] [禁用]        │ │
│ │ ─────────────────────────────────────────────────────────────────────│ │
│ │                                                                       │ │
│ │ 状态: ✅ 运行中    优先级: 1 (最高)                                   │ │
│ │                                                                       │ │
│ │ API地址: http://192.168.1.100:8000/v1/chat/completions               │ │
│ │ 模型名: qwen2.5-coder-32b                                             │ │
│ │                                                                       │ │
│ │ 并发控制:                                                             │ │
│ │ 最大并发: [━━━━━━━━●━━━━━━━━━━━] 8                                   │ │
│ │ 当前使用: 5/8  (62.5%)                                                │ │
│ │                                                                       │ │
│ │ 超时设置: [60] 秒                                                     │ │
│ │ 重试次数: [3] 次                                                      │ │
│ │                                                                       │ │
│ │ ┌─ 实时监控 ──────────────────────────────────────────────────────┐ │ │
│ │ │ 正在处理的任务:                                                  │ │ │
│ │ │ • user-service#123    ████████░░ 80%  剩余25秒                  │ │ │
│ │ │ • order-service#456   ████░░░░░░ 40%  剩余1分15秒               │ │ │
│ │ │ • payment#789         ███░░░░░░░ 30%  剩余1分45秒               │ │ │
│ │ │ ...                                                             │ │ │
│ │ │                                                                 │ │ │
│ │ │ 队列等待: 2个任务                                               │ │ │
│ │ │ 平均响应: 2.3秒                                                 │ │ │
│ │ └─────────────────────────────────────────────────────────────────┘ │ │
│ │                                                                       │ │
│ │ 统计 (今日):                                                          │ │
│ │ 调用次数: 234次   成功率: 98.7%   平均耗时: 2.1秒                    │ │
│ │                                                                       │ │
│ └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌───────────────────────────────────────────────────────────────────────┐ │
│ │ 备用模型 (Claude 3.5 Sonnet)              [编辑] [测试] [启用]       │ │
│ │ ─────────────────────────────────────────────────────────────────────│ │
│ │                                                                       │ │
│ │ 状态: ⏸️ 待机     优先级: 2                                          │ │
│ │                                                                       │ │
│ │ 提供商: Anthropic                                                     │ │
│ │ 模型名: claude-3-5-sonnet-20241022                                    │ │
│ │                                                                       │ │
│ │ 触发条件: 主力模型队列 > 20个任务时                                   │ │
│ │                                                                       │ │
│ │ 成本预估:                                                             │ │
│ │ Input:  $3.00 / M tokens                                              │ │
│ │ Output: $15.00 / M tokens                                             │ │
│ │ 本月使用: $0 (未启用)                                                 │ │
│ │                                                                       │ │
│ └───────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ [添加新模型]                                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 设计说明

### 1. 设计原则

- **信息层次清晰**: 重要信息大字体、突出显示
- **数据可视化**: 用图表代替表格，更直观
- **操作便捷**: 高频操作放在显眼位置
- **反馈及时**: 状态用颜色和图标表示（✅⚠️🚨）
- **渐进式展开**: 详细信息可折叠，避免信息过载

### 2. 颜色和图标约定

```
✅ 绿色 - 健康、成功、良好
⚠️  黄色 - 警告、需要关注
🚨 红色 - 严重、高风险、失败

🏆 奖杯 - 排行、最佳
📈 上升 - 趋势向好
📉 下降 - 趋势变差
💡 灯泡 - 建议、提示
🎯 靶心 - 目标、重点
```

### 3. 响应式布局

```
桌面端 (>1200px):
- 双列布局（左侧60% + 右侧40%）
- 数据卡片横向排列

平板端 (768-1200px):
- 单列布局
- 数据卡片缩小或堆叠

移动端 (<768px):
- 完全单列
- 简化图表
```

### 4. 交互细节

**悬停效果**:
- 卡片悬停: 轻微上浮 + 阴影加深
- 按钮悬停: 颜色加深
- 图表悬停: 显示详细数值

**加载状态**:
- 骨架屏 (Skeleton)
- 加载动画
- 进度条

**空状态**:
- 友好的提示文案
- 引导用户操作
- 示例图片

---

这些线框图覆盖了平台的所有核心页面，你可以直接用于：
1. 与设计师沟通UI设计
2. 与开发团队讨论交互细节
3. 用户访谈和原型测试
4. 产品评审

需要我补充其他页面的线框图吗？或者对某个页面的设计进行细化？
